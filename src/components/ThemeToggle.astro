---
import moon from '../assets/moon.svg';
import sun from '../assets/sun.svg';
---

<button id="theme-toggle">
  <img class="moon" src={moon.src} alt="Switch to dark mode" />
  <img class="sun" src={sun.src} alt="Switch to light mode" />
</button>
<style>
  #theme-toggle {
    border: 0;
    background: none;
  }

  .sun {
    display: none;
  }

  :global(.dark) .moon {
    display: none;
  }
  :global(.dark) .sun {
    display: block;
  }
</style>
<script>
  document.getElementById('theme-toggle')?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');

    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>
