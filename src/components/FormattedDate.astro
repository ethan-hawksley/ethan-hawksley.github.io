---
interface Props {
  date: Date;
}
const { date } = Astro.props;

function getOrdinalSuffix(num: number) {
  if ([11, 12, 13].includes(num % 100)) return 'th';
  if (num % 10 === 1) return 'st';
  if (num % 10 === 2) return 'nd';
  if (num % 10 === 3) return 'rd';
  return 'th';
}

const day = date.getUTCDate();
const suffix = getOrdinalSuffix(day);
const formatted = `${day}${suffix} ${date.toLocaleDateString('en-GB', { month: 'long', year: 'numeric', timeZone: 'UTC' })}`;
---

<time datetime={date.toISOString()}>
  {formatted}
</time>
